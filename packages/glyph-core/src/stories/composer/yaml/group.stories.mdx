import { Meta, Story } from '@storybook/addon-docs';
import { WithGlobalTheme } from './../../helpers/decorators';

<Story name="Group" decorators={[ WithGlobalTheme ]} />

<Meta title="Glyph pipes/Configuration/Group" />

###### Configuration
# group

Aggregates data that matches all `by` keys in the same row.

Uses `store` propery to determine where results will be saved.

If `asTotal` is `true` middleware will use an **empty array** as `by` keys and add some custom properties to result row.

- _isTotal = true
- name = total
- by[0] = total

#### Parameters

| NAME | TYPE | DESCRIPTION | DEFAULT VALUE|
|:-----|:-----:|:---------|------:|
|data|String|Key of `ctx.state` of data to group | data |
|store|String|Key of `ctx.state` where data will be stored | data |
|by|String[]|Array of keys to identify groups of data | null |
|children|string or boolean|Name of the children field. `children` if true|null|
|total|Boolean|If true a total aggroupation will be calculated and concatenated to data as first row | false|

### Example 

```yaml
group:
    data: data
    total: true
    by:
        - cod_section
```
