import { Meta, Story } from '@storybook/addon-docs';
import { WithGlobalTheme } from './../../helpers/decorators';

<Story name="Filters" decorators={[ WithGlobalTheme ]} />

<Meta title="Glyph pipes/Configuration/Filters" />

###### Configuration
# filters

Parse filters informed as query params or as a query string.

> Valid query values:
> - **?a=[1,2]&b=[1]**
> - **?filters=[{ key: 'a', op: 'in', value: [1, 2] }, { key: 'b', op: 'in', value: [1] }]**

You can specify some prefix to force a parameter conversion like:

- **$** use key as filter code without any modification
- **!** use a `nin` operation in filter

#### Parameters

| NAME | TYPE | DESCRIPTION | DEFAULT VALUE|
|:-----|:-----:|:---------|------:|
|current|Boolean or { use, rangeBefore }|Parse current filters| false |
|comparable|Boolean or { compType }|Parse comparable filters| false |
|a2|Boolean or { compType }|Parse a2 comparable filters| false |

#### Current parameters

| NAME | TYPE | DESCRIPTION | DEFAULT VALUE|
|:-----|:-----:|:---------|------:|
|use|String[]|Filter codes to use in the request| null |
|store|String|Key of `ctx.state` where data will be stored | data |
|rangeBefore|nubmer|Days to add before start date| null |

#### Comparable parameters

| NAME | TYPE | DESCRIPTION | DEFAULT VALUE|
|:-----|:-----:|:---------|------:|
|base|String|Key of `ctx.state` where base filters are stored | data |
|compType|String|comparable type| commercial |
|store|String|Key of `ctx.state` where data will be stored | data |

#### A2 parameters

| NAME | TYPE | DESCRIPTION | DEFAULT VALUE|
|:-----|:-----:|:---------|------:|
|base|String|Key of `ctx.state` where base filters are stored | data |
|compType|String|comparable type| commercial |
|store|String|Key of `ctx.state` where data will be stored | data |

### Example

```yaml
filters:
    current: true
    comparable:
        compType: calendar
    a2: true
```
