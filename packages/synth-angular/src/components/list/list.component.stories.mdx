import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import { moduleMetadata } from '@storybook/angular';
import { CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';
import { ListComponent } from './list.component.ts'

export const Template = (args) => <ListComponent { ...args }/>;

<Meta
    title="Components/List"
    decorators={[
        moduleMetadata({
        schemas: [ CUSTOM_ELEMENTS_SCHEMA ]
        })
    ]}
    component={ ListComponent }
    parameters={{ viewMode: 'docs' }}
    argTypes={{
        loading: { control: 'boolean' }
    }}
/>

# List Component

Paginated list component.

It is a wrapper of **synth-list**. Handles data transformation between apps and list component.

## Basic list

<Canvas>
    <Story name="Basic" args={{ loading: false, data, fieldsConfig, title: 'List', limit: 3 }}>
        { Template}
    </Story>
</Canvas>

## Loading list

<Canvas>
    <Story name="Loading" args={{ loading: true, limit: 3, title: 'List' }}>{ Template.bind({}) }</Story>
</Canvas>

## No data list

<Canvas>
    <Story name="No data" args={{ loading: false, limit: 3, title: 'List' }}>{ Template.bind({}) }</Story>
</Canvas>

---

## Properties 

<ArgsTable of={ListComponent} />

export const data = [
    {
        _isTotal: true,
        name: 'total',
        amount: 999999,
        growth_amount: 0.23,
    },
].concat(
    [ 'EspaÃ±a', 'Estados unidos', 'Canada', 'Francia', 'Irlanda', 'Croacia', 'Corea', 'Taiwan' ].map((country) => ({
        name: country,
        amount: 12311,
        growth_amount: 0.98,
    }
)));

export const fieldsConfig = [
    {
        title: () => 'amount',
        value: () => 'amount',
        format: () => '0,0',
        decoration: () => 'green',
        sign: () => false,
    },
    {
        title: () => 'crec.',
        value: () => 'growth_amount',
        format: () => '0,0.0 %',
        decoration: () => 'green',
        sign: () => false,
    },
];
