import { html } from 'lit-html';
import { spread } from '@open-wc/lit-helpers';
import { Meta, Description, Canvas, Story } from '@storybook/addon-docs/blocks';
import notes from './readme.md';

export const Template = args => html`<div ><glyph-button text="show modal" @click=${clickEvent}></glyph-button><glyph-modal ...=${spread(args)} @close=${closeEvent} @apply=${applyEvent} @cancel=${cancelEvent} interface='modern'><h3>Modal content</h3><p>Lorem ipsum text</p></glyph-modal></div>`;

<Meta title="Components/Modal/Modern" parameters={{ viewMode: 'docs' }} />

# Modal

##### glyph-modal

Modal window with content that can be full custom using only component children, or configured using these presets:
- **modalTitle**: String to be rendered as modal title
- **closeButton**: if true renders a close button in header
- **applyButton**: If defined modal window will render an apply button with this text.
- **cancelButton**: If defined modal window will render a cancel button with this text.

## Modal with title and close button

<Canvas>
    <Story name="Header" args={{ visible: false, '.modalTitle': 'Modal 1', '.closeButton': true }}>
        {Template.bind({})}
    </Story>
</Canvas>

## Modal with close button

<Canvas>
    <Story name="Close" args={{ visible: false, '.closeButton': true }}>
        {Template.bind({})}
    </Story>
</Canvas>

## Modal with button bar

<Canvas>
    <Story name="Buttons" args={{ visible: false, '.modalTitle': 'Modal 1', '.closeButton': true, '.applyButton': 'Apply', '.cancelButton': 'Cancel' }}>
        {Template.bind({})}
    </Story>
</Canvas>

## Custom modal

Modal can show only children content, you'll have to manage close and apply events on your side.

Close on click outside modal will work anyway.

<Canvas>
    <Story name="Custom" args={{ visible: false }}>
        {Template.bind({})}
    </Story>
</Canvas>

---

<Description>{notes}</Description>

export const clickEvent = (event) => {
    event.target.nextSibling.visible = true;
}

export const closeEvent = (event) => {
    event.target.visible = false;
}

export const applyEvent = () => {
    alert('apply');
}

export const cancelEvent = (event) => {
    event.target.visible = false;
}
