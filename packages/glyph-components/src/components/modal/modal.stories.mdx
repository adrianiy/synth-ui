import { html } from 'lit-html';
import { spread } from '@open-wc/lit-helpers';
import { Meta, Description, Canvas, Story } from '@storybook/addon-docs/blocks';
import notes from './readme.md';

export const Template = args => html`<div ><glyph-button text="show modal" @click=${clickEvent}></glyph-button><glyph-modal ...=${spread(args)} @close=${closeEvent} @apply=${applyEvent} @cancel=${cancelEvent}><h3>Modal content</h3><p>Lorem ipsum text</p></glyph-modal></div>`;

<Meta title="Components/Modal/Classic" parameters={{ viewMode: 'docs' }} />

###### glyph-modal
# Modal


Modal window with a translucid background.

Handles close when user clicks outside the modeal.

## Modal with title and close button

<Canvas>
    <Story name="Header" args={{ visible: false, '.modalTitle': 'Modal 1', '.closeButton': true }}>
        {Template.bind({})}
    </Story>
</Canvas>

## Modal with close button

<Canvas>
    <Story name="Close" args={{ visible: false, '.closeButton': true }}>
        {Template.bind({})}
    </Story>
</Canvas>

## Modal with button bar

<Canvas>
    <Story name="Buttons" args={{ visible: false, '.modalTitle': 'Modal 1', '.closeButton': true, '.applyButton': 'Apply', '.cancelButton': 'Cancel' }}>
        {Template.bind({})}
    </Story>
</Canvas>

## Custom modal

Modal can show only children content, you'll have to manage close and apply events on your side.

Close on click outside modal will work anyway.

<Canvas>
    <Story name="Custom" args={{ visible: false }}>
        {Template.bind({})}
    </Story>
</Canvas>

---

<Description>{notes}</Description>

export const clickEvent = (event) => {
    event.target.nextSibling.visible = true;
}

export const closeEvent = (event) => {
    event.target.visible = false;
}

export const applyEvent = () => {
    alert('apply');
}

export const cancelEvent = (event) => {
    event.target.visible = false;
}
