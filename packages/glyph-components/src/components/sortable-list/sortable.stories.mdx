import { html } from 'lit-html';
import { spread } from '@open-wc/lit-helpers';
import { Meta, Description, Canvas, Story } from '@storybook/addon-docs/blocks';
import notes from './readme.md';

export const Template = args => html`<glyph-sortable ...=${spread(args)} />`;

<Meta title="Components/Sortable list" parameters={{ viewMode: 'docs' }} />

# Sortable list

##### glyph-sortable

Modern sortable list to allow users that uses drag&drop.

An unique `id` attribute must be informed in each list element to handle array ordering correctly.

## Basic sortable

<Canvas>
    <Story name="Basic" args={{ '.list': list }}>
        {Template.bind({})}
    </Story>
</Canvas>

## Sortable with icon

You can set an attribute `icon` per option to render a drag icon, it can be configured to display *always* or on *hover*.

<Canvas>
    <Story name="With icon" args={{ '.list': listWithIcon }}>
        {Template.bind({})}
    </Story>
</Canvas>

## Sortable with no sotable rows

You can set an attribute `notSortable` per option to fix some option position.

<Canvas>
    <Story name="With no sortable" args={{ '.list': listWithFixed }}>
        {Template.bind({})}
    </Story>
</Canvas>

## Sortable with action icon

You can set an attribute `action` per row to trigger some action, like edit row for example.

Action button will be visible on hover, try hovering any row!.

<Canvas>
    <Story name="With action" args={{ '.list': listWithAction }}>
        {Template.bind({})}
    </Story>
</Canvas>

## Sortable with children

You can configure a `children` attribute in each list element.

If this attribute is configured a expandable row will be displayed with a sortable list in drilldown.

<Canvas>
    <Story name="With children" args={{ '.list': listWithChildren }}>
        {Template.bind({})}
    </Story>
</Canvas>

---

<Description>{notes}</Description>

export const list = [
    { id: '1', name: 'test1' },
    { id: '2', name: 'test2' },
    { id: '3', name: 'test3' }
];

export const listWithIcon = [
    { id: '1', name: 'test1' },
    { id: '2', name: 'test2', icon: 'always' },
    { id: '3', name: 'test3', icon: 'hover' }
];

export const listWithFixed = [
    { id: '1', name: 'test1' },
    { id: '2', name: 'test2', notSortable: true },
    { id: '3', name: 'test3' }
];

export const listWithAction = [
    { id: '1', name: 'test1', action: { icon: 'edit', action: () => alert('action') } },
    { id: '2', name: 'test2', action: { icon: 'edit', action: () => alert('action') } },
    { id: '3', name: 'test3', action: { icon: 'edit', action: () => alert('action') } },
];

export const listWithChildren = [
    { id: '1', name: 'test1', children: [ { id: '1', name: 'child1', style: { 'padding-left': '32px' } }, { id: '2', name: 'child2', style: { 'padding-left': '32px' } }, { id: '3', name: 'child3', style: { 'padding-left': '32px' } } ] },
    { id: '2', name: 'test1', children: [ { id: '1', name: 'child1', style: { 'padding-left': '32px' } }, { id: '2', name: 'child2', style: { 'padding-left': '32px' } }, { id: '3', name: 'child3', style: { 'padding-left': '32px' } } ] },
    { id: '3', name: 'test1', children: [ { id: '1', name: 'child1', style: { 'padding-left': '32px' } }, { id: '2', name: 'child2', style: { 'padding-left': '32px' } }, { id: '3', name: 'child3', style: { 'padding-left': '32px' } } ] },
];

