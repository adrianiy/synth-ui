import { html } from 'lit-html';
import { spread } from '@open-wc/lit-helpers';
import { Meta, Description, Canvas, Story } from '@storybook/addon-docs/blocks';
import notes from './readme.md';

export const Template = args => html`<div><glyph-button text="trigger toaster" @click=${args.clickEvent}></glyph-button><glyph-toaster ...=${spread(args)}/></div>`;

<Meta title="Components/Toaster" parameters={{ viewMode: 'docs' }} />

# Toaster

##### glyph-toaster

Toaster component rendered on the top side of application on `eventId` trigger.

The toaster can be of **success** or **fail** types.

It can be configured with a `ttl` to remove it automatically or be closed on user click. 

## Toaster without ttl

<Canvas>
    <Story name="No ttl" args={{ clickEvent: clickEvent, 'event-id': 'demo1' }}>
        {Template.bind({})}
    </Story>
</Canvas>

## Error Toaster without ttl

<Canvas>
    <Story name="Error" args={{ clickEvent: clickEventError, 'event-id': 'demo2' }}>
        {Template.bind({})}
    </Story>
</Canvas>

## Toaster with ttl

This example is configured with a `ttl` of 2000ms.

<Canvas>
    <Story name="With ttl" args={{ clickEvent: clickEventTtl, 'event-id': 'demo3', ttl: 2000 }}>
        {Template.bind({})}
    </Story>
</Canvas>

---

<Description>{notes}</Description>

export const clickEvent = () => {
    const event = new CustomEvent('demo1', { detail: {text: 'Toaster without ttl', icon: 'checkmark', type: 'success' }});
    window.dispatchEvent(event);
}

export const clickEventError = () => {
    const event = new CustomEvent('demo1', { detail: {text: 'Toaster without ttl', icon: 'close', type: 'fail' }});
    window.dispatchEvent(event);
}

export const clickEventTtl = () => {
    const event = new CustomEvent('demo3', { detail: {text: 'Toaster with ttl', icon: 'checkmark', type: 'success' }});
    window.dispatchEvent(event);
}
