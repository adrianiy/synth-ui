import { html } from 'lit-html';
import { spread } from '@open-wc/lit-helpers';
import { Meta, Description, Canvas, Story } from '@storybook/addon-docs/blocks';
import notes from './readme.md';

export const Template = args => html`<glyph-button-group ...=${spread(args)} />`;

<Meta title="Components/Button group/Big" parameters={{ viewMode: 'docs' }} />

###### glyph-button-group
# Button group

This component will render a button group that will marc active button with a background color.

Each button can be configured with a **title** a **subtitle** and a **action** trigered on click;

This component has two interface versions **big** and **small**.

Inner text can have **left**, **right** or **center** `alignment`.

## Center

<Canvas>
    <Story name="Center" args={{ '.buttons': buttons }}>
        {Template.bind({})}
    </Story>
</Canvas>

## Left

<Canvas>
    <Story name="Left" args={{ '.buttons': buttons, '.alignment': 'left' }}>
        {Template.bind({})}
    </Story>
</Canvas>

## Right

<Canvas>
    <Story name="Right" args={{ '.buttons': buttons, '.alignment': 'right' }}>
        {Template.bind({})}
    </Story>
</Canvas>

---

<Description>{notes}</Description>

export const buttons = [
    { title: { value: 1000, format: '0,0' }, subtitle: { value: 'text1' }, active: true, action: (event) => clickEvent(event, 0) },
    { title: { value: 1000, format: '0,0', decoration: 'green' }, subtitle: { value: 'text2' }, active: false, action: (event) => clickEvent(event, 1) },
    { title: { value: -.2, format: '0,0%', decoration: 'red' }, subtitle: { value: 'text2' }, active: false, action: (event) => clickEvent(event, 2) },
    { title: { value: 'title' }, active: false, action: (event) => clickEvent(event, 3) },
    { subtitle: { value: 'subtitle' }, active: false, action: (event) => clickEvent(event, 4) },
]
export const clickEvent = (event, index) => {
    console.log(event)
    event.target.buttons = event.target.buttons.map((button, idx) => ({...button, active: idx === index}))
}
